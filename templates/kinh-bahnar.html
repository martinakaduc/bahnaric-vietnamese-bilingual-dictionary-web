{% extends "layout.html" %}

{% block body %}
<!--Kinh - Bana-->
<section class="page-section" id="kinh-bahnar">
    <div class="container px-4 px-lg-5">
        <h2 id="kinh-title" class="text-center mt-0">Ng·ªØ li·ªáu Kinh Ba-na</h2>
        <hr class="divider" />
        <div class="row gx-4 gx-lg-5">
            <div class="col-lg-8-text-left">
                <div class="row align-middle">
                    <div class="col-9">
                        <table id="kinh" class="table text-black mb-5 text-left table-hover">
                            <thead>
                                <tr class="text-primary">
                                    <th colSpan="3" style="display:flex;justify-content: center;width: 430%;">Ti·∫øng Ba-na</th>
                                </tr>
                                <tr class="text-primary">
                                    <th>Ti·∫øng Kinh</th>
                                    <th>Kon Tum</th>
                                    <th>Gia Lai</th>
                                    <th>B√¨nh ƒê·ªãnh</th>
                                    <th>T·ª´ lo·∫°i</th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                        <div style="height: 100px;"></div>
                    </div>
                    <div class="word-detail col-3 h-100">
                        <!-- START SAMPLE CARD -->
                        <div id="sample" class="card">
                            <div class="card-body">
                                <h2>Ch·ªçn m·ªôt t·ª´</h2>
                                <h6 class="card-subtitle mb-2 text-muted">ƒê·ªÉ hi·ªÉn th·ªã t·ª´ lo·∫°i</h6>
                                <p class="card-text">V√† b·∫£n d·ªãch ti·∫øng Ba-na.</p>
                            </div>
                        </div>
                        <!-- END SAMPLE CARD -->
                        <!-- START WORD CARD -->
                        <div id="word" class="card visually-hidden">
                            <div id="word-body" class="card-body">
                                <h2 id="card-title"></h2>
                                <h3 id="card-sub" class="card-subtitle mb-2 text-muted"></h3>
                                <h6 id="pos"></h6>

                                <div class="gender">
                                    <span id="genderAsk">Ch·ªçn gi·ªçng ƒë·ªçc:</span>
                                    <select id="genderSelect" class="form-select w-35 d-inline-block"
                                        onchange="genderChangeHandler()">
                                        <option value="male">Nam</option>
                                        <option value="female">N·ªØ</option>
                                    </select>
                                </div>

                                <div id="card-button" class="visually-hidden">
                                    <div class="row my-2 justify-content-center">
                                        <button id="bdButton" onclick="playBD()"
                                            class="btn btn-primary w-50 text-left">üîä
                                            B√¨nh ƒê·ªãnh</button>
                                    </div>
                                    <div class="row my-2 justify-content-center">
                                        <button id="ktButton" onclick="playKT()"
                                            class="btn btn-primary w-50 text-left">üîä
                                            Kon Tum</button>
                                    </div>
                                    <div class="row my-2 justify-content-center">
                                        <button id="glButton" onclick="playGL()"
                                            class="btn btn-primary w-50 text-left">üîä
                                            Gia Lai</button>
                                    </div>
                                </div>

                                <div id="card-button_loading" class="mx-auto mt-3">
                                    <div class="spinner-border" role="status">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- END WORD CARD -->
                    </div>
                </div>

            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block data%}
<script>
    $(document).ready(function () {
        var table = $("#kinh").DataTable({
            ajax: "/api/kinh",
            serverSide: true,
            columns: [
                { data: "vietnamese", orderable: false, width: "20%" },
                { data: "kontum", orderable: false, width: "20%" },
                { data: "gialai", orderable: false, width: "20%" },
                { data: "binhdinh", orderable: false, width: "20%" },
                { data: "pos", orderable: false, width: "10%" }
            ],
            "order": [],
            language: {
                lengthMenu: "Hi·ªÉn th·ªã _MENU_ k·∫øt qu·∫£",
                search: "T√¨m ki·∫øm ti·∫øng Kinh:",
                zeroRecords: "Kh√¥ng c√≥ d·ªØ li·ªáu",
                info: "Trang _PAGE_/_PAGES_",
                infoEmpty: "Kh√¥ng t√¨m th·∫•y",
                infoFiltered: "(t·ªïng c·ªông _MAX_ k·∫øt qu·∫£)",
                paginate: {
                    first: "Trang ƒë·∫ßu",
                    previous: "Trang tr∆∞·ªõc",
                    next: "Trang sau",
                    last: "Trang cu·ªëi",
                },
            },
        });

        $("#kinh tbody").on("click", "tr", function () {
            const row = table.row(this).data();
            const myJSON = JSON.stringify(row);
            //console.log(myJSON);

            const myObj = JSON.parse(myJSON);
            UPDATE_GLOBAL_MYOBJ(myObj)
            updateCard(0)
        });
    });
</script>
{% endblock %}